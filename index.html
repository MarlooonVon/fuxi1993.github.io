<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  
    <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  


<link rel="stylesheet" type="text/css" href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" />

<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.2"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />


<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="My Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="My Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My Blog">
<meta name="twitter:description">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>



  <title> My Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">My Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-/"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-/categories"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-/about"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-/archives"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-/tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-10-Proxy/" itemprop="url">
                  Design Pattern(10): Proxy
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:59:15+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-10-Proxy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-10-Proxy/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-9-Flyweight/" itemprop="url">
                  Design Pattern(9): Flyweight
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:56:00+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-9-Flyweight/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-9-Flyweight/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_动机">1. 动机</h2><p>有些应用程序得益于在其整个设计过程中采用对象技术，但简单化的实现代价极大。<br>例如，大多数文档编辑器的实现都有文本格式化和编辑功能，这些功能在一定程度上是模块化的。面向对象的文档编辑器通常使用对象来表示嵌入的成分，例如表格和图形。尽管用对象来表示文档中的每个字符会极大地提高应用程序的灵活性，但是这些编辑器通常并不这样做。字符和嵌入成分可以在绘制和格式化时统一处理，从而在不影响其他功能的情况下能对应用程序进行扩展，支持新的字符集。应用程序的对象结构可以模拟文档的物理结构。<br>但这种设计的缺点在于代价太大。即使是一个中等大小的文档也可能要求成百上千的字符对象，这会耗费大量内存，产生难以接受的运行开销。所以通常并不是对每个字符都用一个对象来表示的。Flyweight模式描述了如何共享对象，使得可以细粒度地使用它们而无需高昂的代价。<br>flyweight是一个共享对象，它可以同时在多个场景 ( context )中使用，并且在每个场景中flyweight都可以作为一个独立的对象—这一点与非共享对象的实例没有区别。Flyweight不能对它所运行的场景做出任何假设，这里的关键概念是内部状态和外部状态之间的区别。内部状态存储于Flyweight中，它包含了独立于Flyweight场景的信息，这些信息使得Flyweight可以被共享。而外部状态取决于Flyweight场景，并根据场景而变化，因此不可共享。用户对象负责在必要的时候将外部状态传递给Flyweight。</p>
<h2 id="2-_意图">2. 意图</h2><p>运用共享技术有效地支持大量细粒度的对象。</p>
<h2 id="3-_适用性">3. 适用性</h2><p>flyweight模式的有效性很大程度上取决于如何使用它以及在何处使用它。当以下情况都成立时使用flyweight模式：<br>• 一个应用程序使用了大量的对象。<br>• 完全由于使用大量的对象，造成很大的存储开销。<br>• 对象的大多数状态都可变为外部状态。<br>• 如果删除对象的外部状态，那么可以用相对较少的共享对象取代很多组对象。<br>• 应用程序不依赖于对象标识。由于Flyweight对象可以被共享，对于概念上明显有别的对<br>象，标识测试将返回真值。</p>
<h2 id="4-_结构">4. 结构</h2><p><img src="/images/DP/Flyweight/1.PNG" alt="picture"><br>下面的对象图说明了如何共享Flyweight。<br><img src="/images/DP/Flyweight/2.PNG" alt="picture"></p>
<h2 id="5-_参与者">5. 参与者</h2><p>•Flyweight<br>— 描述一个接口，通过这个接口Flyweight可以接受并作用于外部状态。<br>•ConcreteFlyweight<br>— 实现Flyweight接口 ，并为内部状态（如果有的话）增加存储空间 。<br>ConcreteFlyweight对象必须是可共享的。它所存储的状态必须是内部的；即，它必须独立于ConcreteFlyweight对象的场景。<br>• UnsharedConcreteFlyweight<br>— 并非所有的flyweight子类都需要被共享。Flyweight接口使共享成为可能，但它并不强制共享。在Flyweight对象结构的某些层次， UnsharedConcreteFlyweight对象通常<br>将ConcreteFlyweight对象作为子节点<br>•FlyweightFactory<br>— 创建并管理flyweight对象。<br>— 确保合理地共享Flyweight。当用户请求一个Flyweight时，FlyweightFactory对象提供<br>一个已创建的实例或者创建一个（如果不存在的话）。<br>• Client<br>— 维持一个对flyweight的引用。<br>— 计算或存储一个（多个）Flyweight的外部状态。</p>
<h2 id="6-_协作">6. 协作</h2><p>• Flyweight执行时所需的状态必定是内部的或外部的。内部状态存储于ConcreteFlyweight对象之中；而外部对象则由Client对象存储或计算。当用户调用Flyweight对象的操作时，将该状态传递给它。<br>• 用户不应直接对ConcreteFlyweight类进行实例化，而只能从FlyweightFactory对象得到ConcreteFlyweight对象，这可以保证对它们适当地进行共享。</p>
<h2 id="7-实例">7.实例</h2><p><a href="http://www.cnblogs.com/zhenyulu/articles/55793.html" target="_blank" rel="external">享元（Flyweight）模式</a></p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-8-Facade/" itemprop="url">
                  Design Pattern(8): Facade
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:55:16+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-8-Facade/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-8-Facade/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_意图">1. 意图</h2><p>为子系统中的一组接口提供一个一致的界面，Facade模式定义了一个高层接口，这个接口使得这一子系统更加容易使用。</p>
<h2 id="2-_动机">2. 动机</h2><p>将一个系统划分成为若干个子系统有利于降低系统的复杂性。一个常见的设计目标是使子系统间的通信和相互依赖关系达到最小。达到该目标的途径之一是就是引入一个外观（facade）对象，它为子系统中较一般的设施提供了一个单一而简单的界面。<br><img src="/images/DP/Facade/1.PNG" alt="picture"></p>
<h2 id="3-_适用性">3. 适用性</h2><p>在遇到以下情况使用 Facade模式<br>• 当你要为一个复杂子系统提供一个简单接口时。子系统往往因为不断演化而变得越来越复杂。大多数模式使用时都会产生更多更小的类。这使得子系统更具可重用性，也更容易对子系统进行定制，但这也给那些不需要定制子系统的用户带来一些使用上的困难。Facade可以提供一个简单的缺省视图，这一视图对大多数用户来说已经足够，而那些需要更多的可定制性的用户可以越过 facade层。<br>• 客户程序与抽象类的实现部分之间存在着很大的依赖性。引入facade将这个子系统与客户以及其他的子系统分离，可以提高子系统的独立性和可移植性。<br>• 当你需要构建一个层次结构的子系统时，使用 facade模式定义子系统中每层的入口点。如果子系统之间是相互依赖的，你可以让它们仅通过facade进行通讯，从而简化了它们之间的依赖关系。</p>
<h2 id="4-结构">4.结构</h2><p><img src="/images/DP/Facade/2.PNG" alt="picture"></p>
<h2 id="5-参与者">5.参与者</h2><p>• Facade ( Compiler)<br>— 知道哪些子系统类负责处理请求。<br>— 将客户的请求代理给适当的子系统对象。<br>• Subsystem classes (Scanner、Parser、ProgramNode等)<br>— 实现子系统的功能。<br>— 处理由Facade对象指派的任务。<br>— 没有facade的任何相关信息；即没有指向facade的指针。</p>
<h2 id="6-_协作">6. 协作</h2><p>• 客户程序通过发送请求给Facade的方式与子系统通讯，Facade将这些消息转发给适当的子系统对象。尽管是子系统中的有关对象在做实际工作，但Facade模式本身也必须将它的接口转换成子系统的接口。<br>• 使用Facade的客户程序不需要直接访问子系统对象。</p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-7-Decorator/" itemprop="url">
                  Design Pattern(7): Decorator
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:54:25+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-7-Decorator/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-7-Decorator/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_动机">1. 动机</h2><p>有时我们希望给某个对象而不是整个类添加一些功能。例如，一个图形用户界面工具箱允许你对任意一个用户界面组件添加一些特性，例如边框，或是一些行为，例如窗口滚动。<br>使用继承机制是添加功能的一种有效途径，从其他类继承过来的边框特性可以被多个子类的实例所使用。但这种方法不够灵活，因为边框的选择是静态的，用户不能控制对组件加边框的方式和时机。<br>一种较为灵活的方式是将组件嵌入另一个对象中，由这个对象添加边框。我们称这个<strong>嵌入的对象</strong>为<strong>装饰</strong> 。这个装饰与它所装饰的组件接口一致，因此它对使用该组件的客户透明。它将客户请求转发给该组件，并且可能在转发前后执行一些额外的动作（例如画一个边框）。</p>
<h2 id="2-_意图">2. 意图</h2><p>动态地给一个对象添加一些额外的职责。就增加功能来说， Decorator模式相比生成子类更为灵活。</p>
<h2 id="3-_适用性">3. 适用性</h2><p>以下情况使用Decorator模式<br>• 在不影响其他对象的情况下，以动态、透明的方式给单个对象添加职责。<br>• 处理那些可以撤消的职责。<br>• 当不能采用生成子类的方法进行扩充时。一种情况是，可能有大量独立的扩展，为支持每一种组合将产生大量的子类，使得子类数目呈爆炸性增长。另一种情况可能是因为类定义被隐藏，或类定义不能用于生成子类。</p>
<h2 id="4-_结构">4. 结构</h2><p><img src="/images/DP/Decorator/1.PNG" alt="picture"></p>
<h2 id="5-_参与者">5. 参与者</h2><p>• Component<br>— 定义一个对象接口，可以给这些对象动态地添加职责。<br>• ConcreteComponent<br>— 定义一个对象，可以给这个对象添加一些职责。<br>• Decorator<br>— 维持一个指向Component对象的指针，并定义一个与Component接口一致的接口。<br>• ConcreteDecorator<br>— 向组件添加职责。</p>
<h2 id="6-_协作">6. 协作</h2><p>• Decorator将请求转发给它的Component对象，并有可能在转发请求前后执行一些附加的<br>动作。</p>
<h2 id="7-实例">7.实例</h2><p><a href="http://www.journaldev.com/1540/decorator-pattern-in-java-example-tutorial" target="_blank" rel="external">Decorator Pattern in Java – Example Tutorial</a></p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-6-Composite/" itemprop="url">
                  Design Pattern(6): Composite
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:53:51+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-6-Composite/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-6-Composite/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_动机">1. 动机</h2><p>在绘图编辑器和图形捕捉系统这样的图形应用程序中，用户可以使用简单的组件创建复杂的图表。用户可以组合多个简单组件以形成一些较大的组件，这些组件又可以组合成更大的组件。一个简单的实现方法是为Text和Line这样的图元定义一些类，另外定义一些类作为这些图元的容器类(Container)。<br>然而这种方法存在一个问题：使用这些类的代码必须区别对待图元对象与容器对象，而实际上大多数情况下用户认为它们是一样的。对这些类区别使用，使得程序更加复杂。Composite模式描述了如何使用递归组合，使得用户不必对这些类进行区别，如下图所示。<br><img src="/images/DP/Composite/1.PNG" alt="picture"></p>
<h2 id="2-_意图">2. 意图</h2><p>将对象组合成树形结构以表示“部分整体”的层次结构。Composite使得用户对单个对象和组合对象的使用具有一致性。</p>
<h2 id="3-_适用性">3. 适用性</h2><p>以下情况使用Composite模式:<br>• 你想表示对象的部分 -整体层次结构。<br>• 你希望用户忽略组合对象与单个对象的不同，用户将统一地使用组合结构中的所有对象。</p>
<h2 id="4-_结构">4. 结构</h2><p><img src="/images/DP/Composite/2.PNG" alt="picture"><br>典型的Composite对象结构如下图所示。<br><img src="/images/DP/Composite/3.PNG" alt="picture"></p>
<h2 id="5-_参与者">5. 参与者</h2><p>• Component (Graphic)<br>— 为组合中的对象声明接口。<br>— 在适当的情况下，实现所有类共有接口的缺省行为。<br>— 声明一个接口用于访问和管理 Component的子组件。<br>—(可选)在递归结构中定义一个接口，用于访问一个父部件，并在合适的情况下实现它。<br>• Leaf (Rectangle、Line、Text等)<br>— 在组合中表示叶节点对象，叶节点没有子节点。<br>— 在组合中定义图元对象的行为。<br>• Composite (Picture)<br>— 定义有子部件的那些部件的行为。<br>— 存储子部件。<br>— 在Component接口中实现与子部件有关的操作。<br>• Client<br>— 通过Component接口操纵组合部件的对象。</p>
<h2 id="6-_协作">6. 协作</h2><p>• 用户使用Component类接口与组合结构中的对象进行交互。如果接收者是一个叶节点,则直接处理请求。如果接收者是Composite,它通常将请求发送给它的子部件，在转发请求之前与或之后可能执行一些辅助操作。</p>
<h2 id="7-_实例">7. 实例</h2><p>Employee.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.arpit.javapostsforlearning.designpatterns;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Employee <span class="title">getChild</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Now we will create manager(composite class).Key point here is that all common method delegates its operations to child objects.It has method to access and modify its children.<br>Manager.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.arpit.javapostsforlearning.designpatterns;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Manager</span> <span class="keyword">implements</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="title">Manager</span><span class="params">(String name,<span class="keyword">double</span> salary)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.salary = salary;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> List&lt;Employee&gt; employees = <span class="keyword">new</span> ArrayList&lt;Employee&gt;();</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">    employees.add(employee);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Employee <span class="title">getChild</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> employees.get(i);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> salary;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  System.out.println(<span class="string">"-------------"</span>);</span><br><span class="line">  System.out.println(<span class="string">"Name ="</span>+getName());</span><br><span class="line">  System.out.println(<span class="string">"Salary ="</span>+getSalary());</span><br><span class="line">  System.out.println(<span class="string">"-------------"</span>);</span><br><span class="line"></span><br><span class="line">  Iterator&lt;Employee&gt; employeeIterator = employees.iterator();</span><br><span class="line">    <span class="keyword">while</span>(employeeIterator.hasNext())&#123;</span><br><span class="line">     Employee employee = employeeIterator.next();</span><br><span class="line">     employee.print();</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">  employees.remove(employee);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>We will create developer class.This class is leaf node so all operations related to accessing children will be empty as it has no children.</p>
<p>Developer.java(Leaf):<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.arpit.javapostsforlearning.designpatterns;</span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * In this class,there are many methods which are not applicable to developer because</span><br><span class="line"> * it is a leaf node.</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Developer</span> <span class="keyword">implements</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Developer</span><span class="params">(String name,<span class="keyword">double</span> salary)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.salary = salary;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//this is leaf node so this method is not applicable to this class.</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Employee <span class="title">getChild</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//this is leaf node so this method is not applicable to this class.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> salary;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"-------------"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Name ="</span>+getName());</span><br><span class="line">    System.out.println(<span class="string">"Salary ="</span>+getSalary());</span><br><span class="line">    System.out.println(<span class="string">"-------------"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//this is leaf node so this method is not applicable to this class.</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>CompositeDesignPatternMain.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.arpit.javapostsforlearning.designpatterns;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompositeDesignPatternMain</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  Employee emp1=<span class="keyword">new</span> Developer(<span class="string">"John"</span>, <span class="number">10000</span>);</span><br><span class="line">  Employee emp2=<span class="keyword">new</span> Developer(<span class="string">"David"</span>, <span class="number">15000</span>);</span><br><span class="line">  Employee manager1=<span class="keyword">new</span> Manager(<span class="string">"Daniel"</span>,<span class="number">25000</span>);</span><br><span class="line">  manager1.add(emp1);</span><br><span class="line">  manager1.add(emp2);</span><br><span class="line">  Employee emp3=<span class="keyword">new</span> Developer(<span class="string">"Michael"</span>, <span class="number">20000</span>);</span><br><span class="line">  Manager generalManager=<span class="keyword">new</span> Manager(<span class="string">"Mark"</span>, <span class="number">50000</span>);</span><br><span class="line">  generalManager.add(emp3);</span><br><span class="line">  generalManager.add(manager1);</span><br><span class="line">  generalManager.print();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Output:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-------------</span><br><span class="line">Name =Mark</span><br><span class="line">Salary =<span class="number">50000.0</span></span><br><span class="line">-------------</span><br><span class="line">-------------</span><br><span class="line">Name =Michael</span><br><span class="line">Salary =<span class="number">20000.0</span></span><br><span class="line">-------------</span><br><span class="line">-------------</span><br><span class="line">Name =Daniel</span><br><span class="line">Salary =<span class="number">25000.0</span></span><br><span class="line">-------------</span><br><span class="line">-------------</span><br><span class="line">Name =John</span><br><span class="line">Salary =<span class="number">10000.0</span></span><br><span class="line">-------------</span><br><span class="line">-------------</span><br><span class="line">Name =David</span><br><span class="line">Salary =<span class="number">15000.0</span></span><br><span class="line">-------------</span><br></pre></td></tr></table></figure></p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
<li><a href="https://dzone.com/articles/composite-design-pattern-java-0" target="_blank" rel="external">Composite Design Pattern in Java</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-5-Bridge/" itemprop="url">
                  Design Pattern(5): Bridge
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:52:21+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-5-Bridge/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-5-Bridge/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-动机">1.动机</h2><p>当一个抽象可能有多个实现时，通常用继承来协调它们。抽象类定义对该抽象的接口，而具体的子类则用不同方式加以实现。但是此方法有时不够灵活。继承机制将抽象部分与它的实现部分固定在一起，使得难以对抽象部分和实现部分独立地进行修改、扩充和重用。</p>
<p>Bridge模式解决以上问题的方法是，将Window抽象和它的实现部分分别放在独立的类层次结构中。其中一个类层次结构针对窗口接口（Window、 IconWindow、TransientWindow），另外一个独立的类层次结构针对平台相关的窗口实现部分，这个类层次结构的根类为WindowImp。例如XWindowImp子类提供了一个基于 XWindow系统的实现，如下页上图所示。<br>对Window子类的所有操作都是用 WindowImp接口中的抽象操作实现的。这就将窗口的抽象与系统平台相关的实现部分分离开来。因此，我们将 Window与WindowImp之间的关系称之为桥接，因为它在抽象类与它的实现之间起到了桥梁作用，使它们可以独立地变化。<br><img src="/images/DP/Bridge/1.PNG" alt="picture"></p>
<h2 id="2-_意图">2. 意图</h2><p>将抽象部分与它的实现部分分离，使它们都可以独立地变化。</p>
<h2 id="3-别名">3.别名</h2><p>Handle/Body</p>
<h2 id="4-_适用性">4. 适用性</h2><p>以下一些情况使用Bridge模式:<br>• 你不希望在抽象和它的实现部分之间有一个固定的绑定关系。例如这种情况可能是因为，在程序运行时刻实现部分应可以被选择或者切换。<br>• 类的抽象以及它的实现都应该可以通过生成子类的方法加以扩充。这时Bridge模式使你可以对不同的抽象接口和实现部分进行组合，并分别对它们进行扩充。<br>• 对一个抽象的实现部分的修改应对客户不产生影响，即客户的代码不必重新编译。<br>• （C++）你想对客户完全隐藏抽象的实现部分。在 C++中，类的表示在类接口中是可见的。<br>• 正如在意图一节的第一个类图中所示的那样，有许多类要生成。这样一种类层次结构说明你必须将一个对象分解成两个部分。Rumbaugh称这种类层次结构为“嵌套的普化”（nested generalizations）。<br>• 你想在多个对象间共享实现（可能使用引用计数），但同时要求客户并不知道这一点。一个简单的例子便是COmplien的String类，在这个类中多个对象可以共享同一个字符串表示。</p>
<h2 id="5-_结构">5. 结构</h2><p><img src="/images/DP/Bridge/2.PNG" alt="picture"></p>
<h2 id="6-_参与者">6. 参与者</h2><p>• Abstraction (Window )<br>— 定义抽象类的接口。<br>— 维护一个指向Implementor类型对象的指针。<br>• RefinedAbstraction (IconWindow )<br>— 扩充由Abstraction定义的接口。<br>• Implementor (WindowImp)<br>— 定义实现类的接口，该接口不一定要与 Abstraction的接口完全一致；事实上这两个<br>接口可以完全不同。一般来讲Iplementor接口仅提供基本操作，而 Abstraction则<br>定义了基于这些基本操作的较高层次的操作。<br>• ConcreteImplementor (XwindowImp, PMWindowImp )<br>— 实现Implementor接口并定义它的具体实现。</p>
<h2 id="7-_实例">7. 实例</h2><p><img src="/images/DP/Bridge/3.png" alt="picture"></p>
<p>Color.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.journaldev.design.bridge;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">applyColor</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Shape.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.journaldev.design.bridge;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Composition - implementor</span></span><br><span class="line">    <span class="keyword">protected</span> Color color;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//constructor with implementor as input argument</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Shape</span><span class="params">(Color c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.color=c;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">applyColor</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>We have Triangle and Pentagon implementation classes as below.<br>Triangle.java<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.journaldev.design.bridge;</span><br><span class="line"> </span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Triangle</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Shape</span>&#123;</span></span><br><span class="line"> </span><br><span class="line">    public <span class="type">Triangle</span>(<span class="type">Color</span> c) &#123;</span><br><span class="line">        <span class="keyword">super</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    public void applyColor() &#123;</span><br><span class="line">        <span class="type">System</span>.out.print(<span class="string">"Triangle filled with color "</span>);</span><br><span class="line">        color.applyColor();</span><br><span class="line">    &#125; </span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Pentagon.java<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.journaldev.design.bridge;</span><br><span class="line"> </span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Pentagon</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Shape</span>&#123;</span></span><br><span class="line"> </span><br><span class="line">    public <span class="type">Pentagon</span>(<span class="type">Color</span> c) &#123;</span><br><span class="line">        <span class="keyword">super</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    public void applyColor() &#123;</span><br><span class="line">        <span class="type">System</span>.out.print(<span class="string">"Pentagon filled with color "</span>);</span><br><span class="line">        color.applyColor();</span><br><span class="line">    &#125; </span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Here are the implementation classes for RedColor and GreenColor.<br>RedColor.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.journaldev.design.bridge;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedColor</span> <span class="keyword">implements</span> <span class="title">Color</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">applyColor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"red."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>GreenColor.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.journaldev.design.bridge;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreenColor</span> <span class="keyword">implements</span> <span class="title">Color</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">applyColor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"green."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Lets test our bridge pattern implementation with a test program.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package com.journaldev.design.test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.journaldev.design.bridge.GreenColor;</span><br><span class="line"><span class="keyword">import</span> com.journaldev.design.bridge.Pentagon;</span><br><span class="line"><span class="keyword">import</span> com.journaldev.design.bridge.RedColor;</span><br><span class="line"><span class="keyword">import</span> com.journaldev.design.bridge.Shape;</span><br><span class="line"><span class="keyword">import</span> com.journaldev.design.bridge.Triangle;</span><br><span class="line"> </span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">BridgePatternTest</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    public static <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        Shape tri = <span class="keyword">new</span> Triangle(<span class="keyword">new</span> RedColor());</span><br><span class="line">        tri.applyColor();</span><br><span class="line">         </span><br><span class="line">        Shape pent = <span class="keyword">new</span> Pentagon(<span class="keyword">new</span> GreenColor());</span><br><span class="line">        pent.applyColor();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>Output of above class is:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Triangle filled with color red.</span><br><span class="line">Pentagon filled with color green.</span><br></pre></td></tr></table></figure></p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
<li><a href="http://www.journaldev.com/1491/bridge-pattern-in-java-example-tutorial" target="_blank" rel="external">Bridge Pattern in Java – Example Tutorial</a></li>
<li><a href="https://dzone.com/articles/design-patterns-bridge" target="_blank" rel="external">Bridge Pattern Tutorial with Java Examples</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/29/Design-Pattern-4-Adapter/" itemprop="url">
                  Design Pattern(4): Adapter
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-29T20:51:36+08:00" content="2016-03-29">
              2016-03-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/29/Design-Pattern-4-Adapter/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/29/Design-Pattern-4-Adapter/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_动机">1. 动机</h2><p>一个真实世界的类比总是帮助的理解设计模式。适配器模式的最好的例子是基于交流电源适配器。比如说你从美国访问欧洲时，你的笔记本电脑接口预计的美国的电力供应。为了使你的笔记本电脑能成功使用，需要得到一个电源适配器，接受美国的插头并允许它插入欧洲电源插座。AC适配器知道如何处理双方充当中间人——这是适配器模式。<br><img src="/images/DP/Adapter/1.PNG" alt="picture"></p>
<h2 id="2-_意图">2. 意图</h2><p>将一个类的接口转换成客户希望的另外一个接口。Adapter模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p>
<h2 id="3-别名">3.别名</h2><p>包装器 Wrapper。</p>
<h2 id="4-_适用性">4. 适用性</h2><p>以下情况使用Adapter模式<br>• 你想使用一个已经存在的类，而它的<strong>接口</strong>不符合你的需求。<br>• 你想创建一个可以复用的类，该类可以与其他不相关的类或不可预见的类（即那些接口<br>可能不一定兼容的类）协同工作。<br>• （ 仅适用于对象Adapter）你想使用一些已经存在的子类，但是不可能对每一个都进行<br>子类化以匹配它们的接口。对象适配器可以适配它的父类接口。</p>
<h2 id="5-_结构">5. 结构</h2><p>类适配器使用多重继承对一个接口与另一个接口进行匹配，如下图所示。<br><img src="/images/DP/Adapter/2.PNG" alt="picture"><br>对象匹配器依赖于对象组合，如下图所示。<br><img src="/images/DP/Adapter/3.PNG" alt="picture"></p>
<h2 id="6-_参与者">6. 参与者</h2><p>• Target(Shape)<br>— 定义Client使用的与特定领域相关的接口。<br>• Client<br>— 与符合Ta rg e t接口的对象协同。<br>• Adaptee<br>— 定义一个已经存在的接口，这个接口需要适配。<br>• Adapter<br>— 对Adaptee的接口与Target接口进行适配</p>
<h2 id="7-实例">7.实例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LegacyLine</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"line from ("</span> + x1 + <span class="string">','</span> + y1 + <span class="string">") to ("</span> + x2 + <span class="string">','</span> </span><br><span class="line">          + y2 + <span class="string">')'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LegacyRectangle</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> w, <span class="keyword">int</span> h)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"rectangle at ("</span> + x + <span class="string">','</span> + y + <span class="string">") with width "</span> + w</span><br><span class="line">          + <span class="string">" and height "</span> + h);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Shape</span></span><br><span class="line"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span> <span class="keyword">implements</span> <span class="title">Shape</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LegacyLine adaptee = <span class="keyword">new</span> LegacyLine();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        adaptee.draw(x1, y1, x2, y2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">implements</span> <span class="title">Shape</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LegacyRectangle adaptee = <span class="keyword">new</span> LegacyRectangle();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        adaptee.draw(Math.min(x1, x2), Math.min(y1, y2), Math.abs(x2 - x1),</span><br><span class="line">          Math.abs(y2 - y1));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdapterDemo</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span><br><span class="line">    </span>&#123;</span><br><span class="line">        Shape[] shapes = </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">new</span> Line(), <span class="keyword">new</span> Rectangle()</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// A begin and end point from a graphical editor</span></span><br><span class="line">        <span class="keyword">int</span> x1 = <span class="number">10</span>, y1 = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> x2 = <span class="number">30</span>, y2 = <span class="number">60</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; shapes.length; ++i)</span><br><span class="line">          shapes[i].draw(x1, y1, x2, y2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
<li><a href="https://sourcemaking.com/design_patterns/adapter/java/1" target="_blank" rel="external">Adapter in Java: Before and after</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/25/Design-Pattern-3-Builder/" itemprop="url">
                  Design Pattern(3): Builder
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-25T12:11:05+08:00" content="2016-03-25">
              2016-03-25
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/25/Design-Pattern-3-Builder/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/25/Design-Pattern-3-Builder/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_动机">1. 动机</h2><p>一个RTF（Rich Text Format）文档交换格式的阅读器应能将RTF转换为多种正文格式。该阅读器可以将 RT F文档转换成普通ASCII文本或转换成一个能以交互方式编辑的正文窗口组件。但问题在于可能转换的数目是无限的。因此要能够很容易实现新的转换的增加，同时却不改变RTF阅读器。<br>一个解决办法是用一个可以将 RTF转换成另一种正文表示的TextConverter对象配置这个RTFReader类。当RTFReader对RTF文档进行语法分析时，它使用TextConverter去做转换。无论何时RTFReader识别了一个RTF标记（或是普通正文或是一个 RTF控制字），它都发送一个请求给TextConverter去转换这个标记。TextConverter对象负责进行数据转换以及用特定格式表示该标记，如下图所示。<br><img src="/images/DP/Builder/1.PNG" alt="picture"><br>每种转换器类将创建和装配一个复杂对象的机制隐含在抽象接口的后面。转换器独立于阅读器，阅读器负责对一个 RTF文档进行语法分析。<br>Builder模式描述了所有这些关系。每一个<strong>转换器类</strong>在该模式中被称为<strong>生成器（builder）</strong>，而<strong>阅读器</strong>则称为<strong>导向器（director）</strong>。在上面的例子中，Builder模式将分析文本格式的算法（即RTF文档的语法分析程序）与描述怎样创建和表示一个转换后格式的算法分离开来。这使我们可以重用 RTFReader的语法分析算法，根据RTF文档创建不同的正文表示—仅需使用不同的TextConverter的子类配置该RTFReader即可。</p>
<h2 id="2-_意图">2. 意图</h2><p>将一个复杂对象的<strong>构建</strong>与它的<strong>表示</strong>分离，使得<strong>同样的构建过程</strong>可以<strong>创建不同的表示</strong>。</p>
<h2 id="3-_适用性">3. 适用性</h2><p>在以下情况使用Builder模式<br>• 当创建复杂对象的算法应该独立于<strong>该对象的组成部分</strong>以及它们的<strong>装配方式</strong>时。<br>• 当构造过程必须允许被构造的对象有<strong>不同的表示</strong>时。</p>
<h2 id="4-_结构">4. 结构</h2><p><img src="/images/DP/Builder/2.PNG" alt="picture"></p>
<h2 id="5-_参与者">5. 参与者</h2><p>• Builder（ TextConverter）<br>— 为创建一个Product对象的各个部件指定抽象接口。<br>• ConcreteBuilder（ ASCIIConverter、 TeXConverter、 TextWidgetConverter）<br>— 实现Builder的接口以构造和装配该产品的各个部件。<br>— 定义并明确它所创建的表示。<br>— 提供一个检索产品的接口（例如， GetASCIIText和GetTextWidget）。<br>• Director（ RTFReader）<br>— 构造一个使用Builder接口的对象。<br>• Product（ ASCIIText、 TeXText、 TextWidget）<br>— 表示被构造的复杂对象。ConcreteBuilder创建该产品的内部表示并定义它的装配过程。<br>— 包含定义组成部件的类，包括将这些部件装配成最终产品的接口。</p>
<h2 id="6-协作">6.协作</h2><p>• 客户创建Director对象，并用它所想要的Builder对象进行配置。<br>• 一旦产品部件被生成，导向器就会通知生成器。<br>• 生成器处理导向器的请求，并将部件添加到该产品中。<br>• 客户从生成器中检索产品。<br>下面的交互图说明了Builder和Director是如何与一个客户协作的。<br><img src="/images/DP/Builder/3.PNG" alt="picture"></p>
<h2 id="7-实例">7.实例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NutritionalFacts</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> sodium;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> fat;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> carbo;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> sodium;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> fat;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> carbo;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Builder</span><span class="params">(<span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.sodium = s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">fat</span><span class="params">(<span class="keyword">int</span> f)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.fat = f;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Builder <span class="title">carbo</span><span class="params">(<span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.carbo = c;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> NutritionalFacts <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> NutritionalFacts(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">NutritionalFacts</span><span class="params">(Builder b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sodium = b.sodium;</span><br><span class="line">        <span class="keyword">this</span>.fat = b.fat;</span><br><span class="line">        <span class="keyword">this</span>.carbo = b.carbo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        NutritionalFacts n = </span><br><span class="line">            <span class="keyword">new</span> NutritionalFacts.Builder(<span class="number">10</span>).carbo(<span class="number">23</span>).fat(<span class="number">1</span>).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
<li><a href="http://stackoverflow.com/questions/5007355/builder-pattern-in-effective-java" target="_blank" rel="external">Builder Pattern in Effective Java</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/24/Design-Pattern-2-Abstact-Factory-Method/" itemprop="url">
                  Design Pattern(2): Abstact Factory Method
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-24T23:17:28+08:00" content="2016-03-24">
              2016-03-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/24/Design-Pattern-2-Abstact-Factory-Method/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/24/Design-Pattern-2-Abstact-Factory-Method/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_动机">1. 动机</h2><p>考虑一种支持多种视感标准的用户界面工具包。不同的视感风格为诸如滚动条、窗口和按钮等用户界面“窗口组件”定义不同的外观和行为。为保证视感风格标准间的可移植性，一个应用不应该为一个特定的视感外观硬编码它的窗口组件。在整个应用中实例化特定视感风格的窗口组件类将使得以后很难改变视感风格。<br>为解决这一问题我们可以定义一个抽象的WidgetFactory类，这个类声明了一个用来创建每一类基本窗口组件的接口。每一类窗口组件都有一个抽象类，而具体子类则实现了窗口组件的特定视感风格。对于每一个抽象窗口组件类，WidgetFactory接口都有一个返回新窗口组件对象的操作。客户调用这些操作以获得窗口组件实例，但客户并不知道他们正在使用的是哪些具体类。这样客户就不依赖于一般的视感风格，如下面图所示。<br><img src="/images/DP/AFM/1.PNG" alt="picture"></p>
<h2 id="2-_意图">2. 意图</h2><p>提供一个创建<strong>一系列</strong>相关或相互依赖对象的接口，而无需指定它们具体的类。</p>
<h2 id="3-_别名">3. 别名</h2><p>Kit</p>
<h2 id="4-适用性">4.适用性</h2><p>在以下情况可以使用 Abstract Factory模式<br>• 一个系统要独立于它的产品的创建、组合和表示时。<br>• 一个系统要由<strong>多个产品系列</strong>中的一个来<strong>配置</strong>时。<br>• 当你要强调<strong>一系列相关的产品对象</strong>的设计以便进行<strong>联合使用</strong>时。<br>• 当你提供一个产品类库，而只想显示它们的接口而不是实现时。</p>
<h2 id="5-结构">5.结构</h2><p>抽象工厂模式的结构如下：<br><img src="/images/DP/AFM/2.PNG" alt="picture"></p>
<h2 id="6-参入者">6.参入者</h2><p>• AbstractFactory(WidgetFactory)<br>— 声明一个创建抽象产品(其<strong>包含多个组件抽象</strong>)对象的操作接口。<br>• ConcreteFactory(MotifWidgetFactory, PMWidgetFactory)<br>— 实现创建具体产品(包含<strong>多个具体组件</strong>)对象的操作。<br>• AbstrctProduct(Windows, ScrollBar)<br>— 为一类产品对象声明一个接口。<br>• ConcreteProduct(MotifWindow, MotifScollbar)<br>— 定义一个将被相应的具体工厂创建的产品对象。<br>— 实现AbstractProduct接口。<br>• Client<br>— 仅使用由AbstractFactory和AbstractProduct类声明的接口。</p>
<h2 id="7-_协作">7. 协作</h2><p>• 通常在运行时刻创建一个ConcreteFactory类的实例。这一具体的工厂创建具有特定实现<br>的产品对象。为创建不同的产品对象，客户应使用不同的具体工厂。<br>• AbstractFactory将产品对象的创建延迟到它的ConcreteFactory子类。</p>
<h2 id="8-实例">8.实例</h2><p>暂无</p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2016/03/24/Design-Pattern-1-Factory-Method/" itemprop="url">
                  Design Pattern (1): Factory Method
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            Posted on
            <time itemprop="dateCreated" datetime="2016-03-24T19:54:08+08:00" content="2016-03-24">
              2016-03-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/24/Design-Pattern-1-Factory-Method/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/24/Design-Pattern-1-Factory-Method/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1-_写在前面">1. 写在前面</h2><p>记得15年5月自己仔细看了《Head First设计模式》，顿时觉得自己对面向对象的设计理念的理解还有很多缺陷，正好这个学期的高级软件工程课程主要讲的就是面向模式的软件体系架构，自己也准备将Java作为自己的第一编译运行语言，所以决心结合设计模式理念和Java语言实例，深入学习一下设计模式理念。</p>
<h2 id="2-_动机">2. 动机</h2><p>考虑这样一个应用框架，它可以向用户显示多个文档。在这个框架中，两个主要的抽象是类Application和Document。这两个类都是抽象的，客户必须通过它们的子类来做与具体应用相关的实现。例如，为创建一个绘图应用，我们定义类 DrawingApplication和DrawDocument。Application类负责管理Document并根据需要创建它们—例如，当用户从菜单中选择Open或New的时候。<br><strong>出现的问题</strong>：Application类仅知道一个新的文档何时应被创建，而不知道哪一种Document将被创建。这就产生了一个尴尬的局面：框架必须实例化类，但是它只知道不能被实例化的抽象类。<br><strong>解决方案</strong>：Factory Method模式提供了一个解决办案。它封装了哪一个Document子类将被创建的信息并将这些信息从该框架中分离出来。<br>Application的子类重定义 Application的抽象操作 CreatDocument以返回适当的 Document子类对象。一旦一个 Application子类实例化以后，它就可以实例化与应用相关的文档，而无需知道这些文档的类(非抽象类)。我们称CreateDocument是一个<strong>工厂方法（factory method）</strong>，因为它负责“生产”一个对象。<br><img src="/images/DP/FM/1.PNG" alt="picture"></p>
<h2 id="3-_意图">3. 意图</h2><p>定义一个用于创建对象的<strong>接口</strong>，让子类决定实例化哪一个类。Factory Method使一个类的实例化延迟到其子类。</p>
<h2 id="4-_别名">4. 别名</h2><p><strong>虚构造器(Virtual Constructor)</strong></p>
<h2 id="5-_适用性">5. 适用性</h2><p>在下列情况下可以使用 Factory Method模式：<br>• 当一个类(Creator)不知道它所必须创建的对象的类的时候。<br>• 当一个类(Creator)希望由它的子类来指定它所创建的对象的时候。<br>• 当类将创建对象的职责委托给多个帮助子类中的某一个，并且你希望将哪一个帮助子类<br>是代理者这一信息局部化的时候。</p>
<h2 id="6-_结构">6. 结构</h2><p><img src="/images/DP/FM/2.PNG" alt="picture"></p>
<h2 id="7-_参与者">7. 参与者</h2><p>• Product(Document)<br>— 定义工厂方法所创建的对象的接口。<br>• ConcreteProduct(MyDocument)<br>— 实现Product接口。<br>• Creator(Application)<br>— 声明工厂方法，该方法返回一个Product类型的对象。 Creator也可以定义一个工厂方<br>法的缺省实现，它返回一个缺省的ConcreteProduct对象。<br>— 可以调用工厂方法以创建一个Product对象。<br>• ConcreteCreator（MyApplication）<br>— 重定义工厂方法以返回一个ConcreteProduct实例。</p>
<h2 id="8-_协作">8. 协作</h2><p>• Creator依赖于它的子类来定义工厂方法，所以它返回一个适当的ConcreteProduct实例。</p>
<h2 id="9-_实例：Factory_design_pattern_used_in_Java_Library">9. 实例：Factory design pattern used in Java Library</h2><p>根据不同的参数，getInstance()返回一个Canlander不同的实例<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java.util.Calendar - getInstance()</span><br><span class="line">java.util.Calendar - getInstance(TimeZone zone)</span><br><span class="line">java.util.Calendar - getInstance(Locale aLocale)</span><br><span class="line">java.util.Calendar - getInstance(TimeZone zone, Locale aLocale)</span><br><span class="line">java.text.NumberFormat - getInstance()</span><br><span class="line">java.text.NumberFormat - getInstance(Locale inLocale)</span><br></pre></td></tr></table></figure></p>
<p>可在<a href="http://www.javased.com/?action=source-search" target="_blank" rel="external">javased.com</a>找到Calendar和NumberFormat的源代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Gets a calendar using the default time zone and locale. The </span><br><span class="line"> * &lt;code&gt;Calendar&lt;/code&gt; returned is based on the current time </span><br><span class="line"> * in the default time zone with the default locale. </span><br><span class="line"> * </span><br><span class="line"> * <span class="doctag">@return</span> a Calendar. </span><br><span class="line"> */</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Calendar <span class="title">getInstance</span><span class="params">()</span> </span><br><span class="line"></span>&#123; </span><br><span class="line">    Calendar cal = createCalendar(TimeZone.getDefaultRef(), Locale.getDefault(Locale.Category.FORMAT)); </span><br><span class="line">    cal.sharedZone = <span class="keyword">true</span>; </span><br><span class="line">    <span class="keyword">return</span> cal; </span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Gets a calendar using the specified time zone and default locale. </span><br><span class="line"> * The &lt;code&gt;Calendar&lt;/code&gt; returned is based on the current time </span><br><span class="line"> * in the given time zone with the default locale. </span><br><span class="line"> * </span><br><span class="line"> * <span class="doctag">@param</span> zone the time zone to use </span><br><span class="line"> * <span class="doctag">@return</span> a Calendar. </span><br><span class="line"> */</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Calendar <span class="title">getInstance</span><span class="params">(TimeZone zone)</span> </span><br><span class="line"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> createCalendar(zone, Locale.getDefault(Locale.Category.FORMAT)); </span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Gets a calendar using the default time zone and specified locale. </span><br><span class="line"> * The &lt;code&gt;Calendar&lt;/code&gt; returned is based on the current time </span><br><span class="line"> * in the default time zone with the given locale. </span><br><span class="line"> * </span><br><span class="line"> * <span class="doctag">@param</span> aLocale the locale for the week data </span><br><span class="line"> * <span class="doctag">@return</span> a Calendar. </span><br><span class="line"> */</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Calendar <span class="title">getInstance</span><span class="params">(Locale aLocale)</span> </span><br><span class="line"></span>&#123; </span><br><span class="line">    Calendar cal = createCalendar(TimeZone.getDefaultRef(), aLocale); </span><br><span class="line">    cal.sharedZone = <span class="keyword">true</span>; </span><br><span class="line">    <span class="keyword">return</span> cal; </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Gets a calendar with the specified time zone and locale. </span><br><span class="line"> * The &lt;code&gt;Calendar&lt;/code&gt; returned is based on the current time </span><br><span class="line"> * in the given time zone with the given locale. </span><br><span class="line"> * </span><br><span class="line"> * <span class="doctag">@param</span> zone the time zone to use </span><br><span class="line"> * <span class="doctag">@param</span> aLocale the locale for the week data </span><br><span class="line"> * <span class="doctag">@return</span> a Calendar. </span><br><span class="line"> */</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Calendar <span class="title">getInstance</span><span class="params">(TimeZone zone, </span><br><span class="line">                                   Locale aLocale)</span> </span><br><span class="line"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> createCalendar(zone, aLocale); </span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Calendar <span class="title">createCalendar</span><span class="params">(TimeZone zone, </span><br><span class="line">                                       Locale aLocale)</span> </span><br><span class="line"></span>&#123; </span><br><span class="line">    Calendar cal = <span class="keyword">null</span>; </span><br><span class="line"> </span><br><span class="line">    String caltype = aLocale.getUnicodeLocaleType(<span class="string">"ca"</span>); </span><br><span class="line">    <span class="keyword">if</span> (caltype == <span class="keyword">null</span>) &#123; </span><br><span class="line">        <span class="comment">// Calendar type is not specified. </span></span><br><span class="line">        <span class="comment">// If the specified locale is a Thai locale, </span></span><br><span class="line">        <span class="comment">// returns a BuddhistCalendar instance. </span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"th"</span>.equals(aLocale.getLanguage()) </span><br><span class="line">                &amp;&amp; (<span class="string">"TH"</span>.equals(aLocale.getCountry()))) &#123; </span><br><span class="line">            cal = <span class="keyword">new</span> BuddhistCalendar(zone, aLocale); </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">            cal = <span class="keyword">new</span> GregorianCalendar(zone, aLocale); </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (caltype.equals(<span class="string">"japanese"</span>)) &#123; </span><br><span class="line">        cal = <span class="keyword">new</span> JapaneseImperialCalendar(zone, aLocale); </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (caltype.equals(<span class="string">"buddhist"</span>)) &#123; </span><br><span class="line">        cal = <span class="keyword">new</span> BuddhistCalendar(zone, aLocale); </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        <span class="comment">// Unsupported calendar type. </span></span><br><span class="line">        <span class="comment">// Use Gregorian calendar as a fallback. </span></span><br><span class="line">        cal = <span class="keyword">new</span> GregorianCalendar(zone, aLocale); </span><br><span class="line">    &#125; </span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> cal; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="参考资料">参考资料</h2><ol>
<li><a href="https://book.douban.com/subject/1052241/" target="_blank" rel="external">设计模式-可复用面向对象软件的基础</a></li>
<li><a href="https://book.douban.com/subject/2243615/" target="_blank" rel="external">Head First设计模式</a></li>
<li><a href="http://www.programcreek.com/" target="_blank" rel="external">Programcreek</a></li>
<li><a href="http://blog.csdn.net/sfdev/article/details/3906243" target="_blank" rel="external">UML中几种类间关系：继承、实现、依赖、关联、聚合、组合的联系与区别</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


 </div>

        

        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Fu Xi" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Fu Xi</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">25</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">categories</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
                <a href="http://tsien.github.io/" target="_blank">Tsien</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cnblogs.com/netfocus/" target="_blank">netfocus</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fu Xi</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"Sean"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
